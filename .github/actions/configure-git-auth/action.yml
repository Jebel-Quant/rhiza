name: 'Configure Git Auth for Private Packages'
description: 'Configure git to use token authentication for private GitHub packages'

inputs:
  token:
    description: 'GitHub token with cross-repository access (use secrets.PRIVATE_REPO_TOKEN for private dependencies)'
    required: true

runs:
  using: composite
  steps:
    - name: Configure git authentication
      shell: bash
      run: |
        # Configure git to use token authentication for GitHub URLs
        # This allows uv/pip to install private packages from GitHub
        git config --global url."https://${{ inputs.token }}@github.com/".insteadOf "https://github.com/"
        
        echo "âœ“ Git configured to use token authentication for GitHub"
        echo "  Private packages with cross-repository access are now accessible"

branding:
  icon: 'shield'
  color: 'blue'
